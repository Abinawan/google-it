{"version":3,"sources":["googleIt.spec.js"],"names":["jest","mock","exec","fn","global","console","log","describe","it","mockClear","expect","not","toHaveBeenCalled","toHaveBeenCalledTimes","undefined","link","result","children","data","toBe"],"mappings":";;AAeAA,IAAI,CAACC,IAAL,CAAU,eAAV,EAA2B;AAAA,SAAO;AAChCC,IAAAA,IAAI,EAAEF,IAAI,CAACG,EAAL,CAAQ,YAAM,CAAE,CAAhB;AAD0B,GAAP;AAAA,CAA3B;;AAdA;;AACA;;AAFA;AAWAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,GAAG,EAAEN,IAAI,CAACG,EAAL;AADU,CAAjB;AAQAI,QAAQ,CAAC,mBAAD,EAAsB,YAAM;AAClCC,EAAAA,EAAE,CAAC,+CAAD,EAAkD,YAAM;AACxDH,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AACA,qCAAkB,KAAlB;AACAC,IAAAA,MAAM,CAACL,OAAO,CAACC,GAAT,CAAN,CAAoBK,GAApB,CAAwBC,gBAAxB;AACD,GAJC,CAAF;AAMAJ,EAAAA,EAAE,CAAC,8CAAD,EAAiD,YAAM;AACvDH,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AACA,qCAAkB,sBAAlB,EAA0C,QAA1C,EAAoD,QAApD;AACAC,IAAAA,MAAM,CAACL,OAAO,CAACC,GAAT,CAAN,CAAoBO,qBAApB,CAA0C,CAA1C;AACD,GAJC,CAAF;AAKD,CAZO,CAAR;AAcAN,QAAQ,CAAC,eAAD,EAAkB,YAAM;AAC9BC,EAAAA,EAAE,CAAC,6CAAD,EAAgD,YAAM;AACtDN,wBAAKO,SAAL;;AACA,iCAAcK,SAAd;AACAJ,IAAAA,MAAM,CAACR,mBAAD,CAAN,CAAaS,GAAb,CAAiBC,gBAAjB;AACD,GAJC,CAAF;AAMAJ,EAAAA,EAAE,CAAC,mEAAD,EAAsE,YAAM;AAC5EN,wBAAKO,SAAL;;AACA,iCAAc,CAAd,EAAiB,CAAC;AAAEM,MAAAA,IAAI,EAAE;AAAR,KAAD,EAAe;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAAf,EAA6B;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAA7B,CAAjB;AACAL,IAAAA,MAAM,CAACR,mBAAD,CAAN,CAAaW,qBAAb,CAAmC,CAAnC;AACD,GAJC,CAAF;AAKD,CAZO,CAAR;AAcAN,QAAQ,CAAC,YAAD,EAAe,YAAM;AAC3BC,EAAAA,EAAE,CAAC,gEAAD,EAAmE,YAAM;AACzE,QAAMQ,MAAM,GAAG,0BAAW;AACxBC,MAAAA,QAAQ,EAAE,CAAC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAD,EAAgB;AAAEA,QAAAA,IAAI,EAAE;AAAR,OAAhB,EAA+B;AAAEA,QAAAA,IAAI,EAAE;AAAR,OAA/B;AADc,KAAX,CAAf;AAGAR,IAAAA,MAAM,CAACM,MAAD,CAAN,CAAeG,IAAf,CAAoB,KAApB;AACD,GALC,CAAF;AAOAX,EAAAA,EAAE,CAAC,wEAAD,EAA2E,YAAM;AACjF,QAAMQ,MAAM,GAAG,0BAAW;AACxBC,MAAAA,QAAQ,EAAE,CACR;AAAEA,QAAAA,QAAQ,EAAE,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAD;AAAZ,OADQ,EAER;AAAED,QAAAA,QAAQ,EAAE,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAD;AAAZ,OAFQ,EAGR;AAAED,QAAAA,QAAQ,EAAE,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAD;AAAZ,OAHQ;AADc,KAAX,CAAf;AAOAR,IAAAA,MAAM,CAACM,MAAD,CAAN,CAAeG,IAAf,CAAoB,KAApB;AACD,GATC,CAAF;AAUD,CAlBO,CAAR","sourcesContent":["/* eslint-disable no-console */\nimport { exec } from 'child_process';\nimport {\n  errorTryingToOpen,\n  openInBrowser,\n  getSnippet,\n  // display,\n  // getResults,\n  // getResponseBody,\n} from '../src/googleIt';\n\nglobal.console = {\n  log: jest.fn(),\n};\n\njest.mock('child_process', () => ({\n  exec: jest.fn(() => {}),\n}));\n\ndescribe('errorTryingToOpen', () => {\n  it('does not call console.log when error is falsy', () => {\n    console.log.mockClear();\n    errorTryingToOpen(false);\n    expect(console.log).not.toHaveBeenCalled();\n  });\n\n  it('calls console.log 3 times when error is true', () => {\n    console.log.mockClear();\n    errorTryingToOpen('something really bad', 'stdout', 'stderr');\n    expect(console.log).toHaveBeenCalledTimes(3);\n  });\n});\n\ndescribe('openInBrowser', () => {\n  it('does not call exec when \"open\" is undefined', () => {\n    exec.mockClear();\n    openInBrowser(undefined);\n    expect(exec).not.toHaveBeenCalled();\n  });\n\n  it('calls exec results.slice(0, open).length times when \"open\" is > 0', () => {\n    exec.mockClear();\n    openInBrowser(3, [{ link: '' }, { link: '' }, { link: '' }]);\n    expect(exec).toHaveBeenCalledTimes(3);\n  });\n});\n\ndescribe('getSnippet', () => {\n  it('maps over elem.children and data field, joined by empty string', () => {\n    const result = getSnippet({\n      children: [{ data: '1' }, { data: '2' }, { data: '3' }],\n    });\n    expect(result).toBe('123');\n  });\n\n  it('returns child.children.map(c => c.data) when child.data does not exist', () => {\n    const result = getSnippet({\n      children: [\n        { children: [{ data: '1' }] },\n        { children: [{ data: '2' }] },\n        { children: [{ data: '3' }] },\n      ],\n    });\n    expect(result).toBe('123');\n  });\n});\n"]}