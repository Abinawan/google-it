f3aec0e1708dfdbf309dd98fa25623e1
"use strict";

var _validateCLIArguments = _interopRequireDefault(require("../src/validateCLIArguments"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('Validate output file format', function () {
  describe('# -o 12345', function () {
    it('should be invalid because output must be a string value', function () {
      var result = (0, _validateCLIArguments.default)({
        query: 'i dont know',
        output: 12345
      });
      expect(result.valid).toBe(false);
    });
  });
  describe('# -o whatever.jsonnn', function () {
    it('should be invalid because output file must end with .json', function () {
      var result = (0, _validateCLIArguments.default)({
        query: 'blah',
        output: 'whatever.jsonnn'
      });
      expect(result.valid).toBe(false);
    });
  });
  describe('# -n', function () {
    it('should be invalid because --no-display can only be used with --output', function () {
      var result = (0, _validateCLIArguments.default)({
        query: 'blah',
        'no-display': true
      });
      expect(result.valid).toBe(false);
    });
  });
  it('returns error as "Missing query" when query is not passed as argument', function () {
    var result = (0, _validateCLIArguments.default)({});
    expect(result.Error).toBe('Missing query');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlQ0xJQXJndW1lbnRzLnNwZWMuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsInF1ZXJ5Iiwib3V0cHV0IiwiZXhwZWN0IiwidmFsaWQiLCJ0b0JlIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQUEsUUFBUSxDQUFDLDZCQUFELEVBQWdDLFlBQU07QUFDNUNBLEVBQUFBLFFBQVEsQ0FBQyxZQUFELEVBQWUsWUFBTTtBQUMzQkMsSUFBQUEsRUFBRSxDQUFDLHlEQUFELEVBQTRELFlBQU07QUFDbEUsVUFBTUMsTUFBTSxHQUFHLG1DQUFxQjtBQUFFQyxRQUFBQSxLQUFLLEVBQUUsYUFBVDtBQUF3QkMsUUFBQUEsTUFBTSxFQUFFO0FBQWhDLE9BQXJCLENBQWY7QUFDQUMsTUFBQUEsTUFBTSxDQUFDSCxNQUFNLENBQUNJLEtBQVIsQ0FBTixDQUFxQkMsSUFBckIsQ0FBMEIsS0FBMUI7QUFDRCxLQUhDLENBQUY7QUFJRCxHQUxPLENBQVI7QUFNQVAsRUFBQUEsUUFBUSxDQUFDLHNCQUFELEVBQXlCLFlBQU07QUFDckNDLElBQUFBLEVBQUUsQ0FBQywyREFBRCxFQUE4RCxZQUFNO0FBQ3BFLFVBQU1DLE1BQU0sR0FBRyxtQ0FBcUI7QUFBRUMsUUFBQUEsS0FBSyxFQUFFLE1BQVQ7QUFBaUJDLFFBQUFBLE1BQU0sRUFBRTtBQUF6QixPQUFyQixDQUFmO0FBQ0FDLE1BQUFBLE1BQU0sQ0FBQ0gsTUFBTSxDQUFDSSxLQUFSLENBQU4sQ0FBcUJDLElBQXJCLENBQTBCLEtBQTFCO0FBQ0QsS0FIQyxDQUFGO0FBSUQsR0FMTyxDQUFSO0FBTUFQLEVBQUFBLFFBQVEsQ0FBQyxNQUFELEVBQVMsWUFBTTtBQUNyQkMsSUFBQUEsRUFBRSxDQUFDLHVFQUFELEVBQTBFLFlBQU07QUFDaEYsVUFBTUMsTUFBTSxHQUFHLG1DQUFxQjtBQUFFQyxRQUFBQSxLQUFLLEVBQUUsTUFBVDtBQUFpQixzQkFBYztBQUEvQixPQUFyQixDQUFmO0FBQ0FFLE1BQUFBLE1BQU0sQ0FBQ0gsTUFBTSxDQUFDSSxLQUFSLENBQU4sQ0FBcUJDLElBQXJCLENBQTBCLEtBQTFCO0FBQ0QsS0FIQyxDQUFGO0FBSUQsR0FMTyxDQUFSO0FBTUFOLEVBQUFBLEVBQUUsQ0FBQyx1RUFBRCxFQUEwRSxZQUFNO0FBQ2hGLFFBQU1DLE1BQU0sR0FBRyxtQ0FBcUIsRUFBckIsQ0FBZjtBQUNBRyxJQUFBQSxNQUFNLENBQUNILE1BQU0sQ0FBQ00sS0FBUixDQUFOLENBQXFCRCxJQUFyQixDQUEwQixlQUExQjtBQUNELEdBSEMsQ0FBRjtBQUlELENBdkJPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGVDTElBcmd1bWVudHMgZnJvbSAnLi4vc3JjL3ZhbGlkYXRlQ0xJQXJndW1lbnRzJztcblxuZGVzY3JpYmUoJ1ZhbGlkYXRlIG91dHB1dCBmaWxlIGZvcm1hdCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJyMgLW8gMTIzNDUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGJlY2F1c2Ugb3V0cHV0IG11c3QgYmUgYSBzdHJpbmcgdmFsdWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUNMSUFyZ3VtZW50cyh7IHF1ZXJ5OiAnaSBkb250IGtub3cnLCBvdXRwdXQ6IDEyMzQ1IH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnIyAtbyB3aGF0ZXZlci5qc29ubm4nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGJlY2F1c2Ugb3V0cHV0IGZpbGUgbXVzdCBlbmQgd2l0aCAuanNvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlQ0xJQXJndW1lbnRzKHsgcXVlcnk6ICdibGFoJywgb3V0cHV0OiAnd2hhdGV2ZXIuanNvbm5uJyB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJyMgLW4nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGJlY2F1c2UgLS1uby1kaXNwbGF5IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCAtLW91dHB1dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlQ0xJQXJndW1lbnRzKHsgcXVlcnk6ICdibGFoJywgJ25vLWRpc3BsYXknOiB0cnVlIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuICBpdCgncmV0dXJucyBlcnJvciBhcyBcIk1pc3NpbmcgcXVlcnlcIiB3aGVuIHF1ZXJ5IGlzIG5vdCBwYXNzZWQgYXMgYXJndW1lbnQnLCAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVDTElBcmd1bWVudHMoe30pO1xuICAgIGV4cGVjdChyZXN1bHQuRXJyb3IpLnRvQmUoJ01pc3NpbmcgcXVlcnknKTtcbiAgfSk7XG59KTtcbiJdfQ==