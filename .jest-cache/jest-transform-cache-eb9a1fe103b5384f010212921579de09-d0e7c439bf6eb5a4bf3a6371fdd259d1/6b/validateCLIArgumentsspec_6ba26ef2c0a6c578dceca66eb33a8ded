bf355083502530c87696a06000ca2ed2
"use strict";

var _validateCLIArguments = _interopRequireDefault(require("../src/validateCLIArguments"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('Validate output file format', function () {
  describe('# -o 12345', function () {
    it('should be invalid because output must be a string value', function () {
      var result = (0, _validateCLIArguments.default)({
        query: 'i dont know',
        output: 12345
      });
      expect(result.valid).toBe(false);
    });
  });
  describe('# -o whatever.jsonnn', function () {
    it('should be invalid because output file must end with .json', function () {
      var result = (0, _validateCLIArguments.default)({
        query: 'blah',
        output: 'whatever.jsonnn'
      });
      expect(result.valid).toBe(false);
    });
  });
  describe('# -n', function () {
    it('should be invalid because --no-display can only be used with --output', function () {
      var result = (0, _validateCLIArguments.default)({
        query: 'blah',
        'no-display': true
      });
      expect(result.valid).toBe(false);
    });
  });
  it('returns error as "missing_query" when query is not passed as argument', function () {
    var result = (0, _validateCLIArguments.default)({});
    expect(result).toBe('missing_query');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlQ0xJQXJndW1lbnRzLnNwZWMuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsInF1ZXJ5Iiwib3V0cHV0IiwiZXhwZWN0IiwidmFsaWQiLCJ0b0JlIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUFBLFFBQVEsQ0FBQyw2QkFBRCxFQUFnQyxZQUFNO0FBQzVDQSxFQUFBQSxRQUFRLENBQUMsWUFBRCxFQUFlLFlBQU07QUFDM0JDLElBQUFBLEVBQUUsQ0FBQyx5REFBRCxFQUE0RCxZQUFNO0FBQ2xFLFVBQU1DLE1BQU0sR0FBRyxtQ0FBcUI7QUFBRUMsUUFBQUEsS0FBSyxFQUFFLGFBQVQ7QUFBd0JDLFFBQUFBLE1BQU0sRUFBRTtBQUFoQyxPQUFyQixDQUFmO0FBQ0FDLE1BQUFBLE1BQU0sQ0FBQ0gsTUFBTSxDQUFDSSxLQUFSLENBQU4sQ0FBcUJDLElBQXJCLENBQTBCLEtBQTFCO0FBQ0QsS0FIQyxDQUFGO0FBSUQsR0FMTyxDQUFSO0FBTUFQLEVBQUFBLFFBQVEsQ0FBQyxzQkFBRCxFQUF5QixZQUFNO0FBQ3JDQyxJQUFBQSxFQUFFLENBQUMsMkRBQUQsRUFBOEQsWUFBTTtBQUNwRSxVQUFNQyxNQUFNLEdBQUcsbUNBQXFCO0FBQUVDLFFBQUFBLEtBQUssRUFBRSxNQUFUO0FBQWlCQyxRQUFBQSxNQUFNLEVBQUU7QUFBekIsT0FBckIsQ0FBZjtBQUNBQyxNQUFBQSxNQUFNLENBQUNILE1BQU0sQ0FBQ0ksS0FBUixDQUFOLENBQXFCQyxJQUFyQixDQUEwQixLQUExQjtBQUNELEtBSEMsQ0FBRjtBQUlELEdBTE8sQ0FBUjtBQU1BUCxFQUFBQSxRQUFRLENBQUMsTUFBRCxFQUFTLFlBQU07QUFDckJDLElBQUFBLEVBQUUsQ0FBQyx1RUFBRCxFQUEwRSxZQUFNO0FBQ2hGLFVBQU1DLE1BQU0sR0FBRyxtQ0FBcUI7QUFBRUMsUUFBQUEsS0FBSyxFQUFFLE1BQVQ7QUFBaUIsc0JBQWM7QUFBL0IsT0FBckIsQ0FBZjtBQUNBRSxNQUFBQSxNQUFNLENBQUNILE1BQU0sQ0FBQ0ksS0FBUixDQUFOLENBQXFCQyxJQUFyQixDQUEwQixLQUExQjtBQUNELEtBSEMsQ0FBRjtBQUlELEdBTE8sQ0FBUjtBQU1BTixFQUFBQSxFQUFFLENBQUMsdUVBQUQsRUFBMEUsWUFBTTtBQUNoRixRQUFNQyxNQUFNLEdBQUcsbUNBQXFCLEVBQXJCLENBQWY7QUFDQUcsSUFBQUEsTUFBTSxDQUFDSCxNQUFELENBQU4sQ0FBZUssSUFBZixDQUFvQixlQUFwQjtBQUNELEdBSEMsQ0FBRjtBQUlELENBdkJPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGVDTElBcmd1bWVudHMgZnJvbSAnLi4vc3JjL3ZhbGlkYXRlQ0xJQXJndW1lbnRzJztcblxuZGVzY3JpYmUoJ1ZhbGlkYXRlIG91dHB1dCBmaWxlIGZvcm1hdCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJyMgLW8gMTIzNDUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGJlY2F1c2Ugb3V0cHV0IG11c3QgYmUgYSBzdHJpbmcgdmFsdWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUNMSUFyZ3VtZW50cyh7IHF1ZXJ5OiAnaSBkb250IGtub3cnLCBvdXRwdXQ6IDEyMzQ1IH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnIyAtbyB3aGF0ZXZlci5qc29ubm4nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGJlY2F1c2Ugb3V0cHV0IGZpbGUgbXVzdCBlbmQgd2l0aCAuanNvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlQ0xJQXJndW1lbnRzKHsgcXVlcnk6ICdibGFoJywgb3V0cHV0OiAnd2hhdGV2ZXIuanNvbm5uJyB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJyMgLW4nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGJlY2F1c2UgLS1uby1kaXNwbGF5IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCAtLW91dHB1dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlQ0xJQXJndW1lbnRzKHsgcXVlcnk6ICdibGFoJywgJ25vLWRpc3BsYXknOiB0cnVlIH0pO1xuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuICBpdCgncmV0dXJucyBlcnJvciBhcyBcIm1pc3NpbmdfcXVlcnlcIiB3aGVuIHF1ZXJ5IGlzIG5vdCBwYXNzZWQgYXMgYXJndW1lbnQnLCAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVDTElBcmd1bWVudHMoe30pO1xuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ21pc3NpbmdfcXVlcnknKTtcbiAgfSk7XG59KTtcbiJdfQ==